
	<div class="container-fluid">
		<div class="row">
			<div class="col">
				<div class="btn-group" role="group" aria-label="Year buttons">
					{% for year, events in timeline_events %}
						<button type="button" class="btn btn-primary" onclick="showEvents('{{ year }}')">{{ year }}</button>
					{% endfor %}
				</div>
			</div>
		</div>
		{% for year, events in timeline_events %}
			<div class="row">
				<div class="col">
					<div class="events-wrapper" id="events-{{ year }}" style="display: none;">
						<h2>{{ year }}</h2>
						<div class="container-fluid my-1">
							<div class="btn-group" role="group" aria-label="Scroll buttons">
								{% for loop_index, event in events %}
									<button type="button" class="btn btn-primary" onclick="scrollToEvent('{{ year }}', {{ loop_index }})">Event
										{{ loop_index + 1 }}</button>
								{% endfor %}
							</div>
						</div>
						<div class="container-fluid row" style="overflow-x: auto; white-space: nowrap;">
							{% for event in events %}
								<div class="card col-auto" style="display: inline-block; margin-right: 10px;">
									<h3>{{ event.title }}</h3>
									<p>{{ event.description }}</p>
									<span>{{ event.date }}</span>
								</div>
							{% endfor %}
						</div>
					</div>
				</div>
			</div>
		{% endfor %}
	</div>

	<script>
    function showEvents(year) {
        var allEvents = document.querySelectorAll('.events-wrapper');
        for (var i = 0; i < allEvents.length; i++) {
            allEvents[i].style.display = 'none';
        }
        document.getElementById('events-' + year).style.display = 'block';
        checkScrollButtons();
    }

    function scrollToEvent(year, index) {
        var eventCard = document.querySelectorAll('#events-' + year + ' .card')[index];
        eventCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    function checkScrollButtons() {
        var allEvents = document.querySelectorAll('.events-wrapper');
        allEvents.forEach(function (eventsWrapper) {
            var scrollable = eventsWrapper.scrollWidth > eventsWrapper.clientWidth;
            var scrollButtons = eventsWrapper.querySelector('.scroll-buttons');
            if (scrollable) {
                scrollButtons.style.display = 'block';
            } else {
                scrollButtons.style.display = 'none';
            }
        });
    }

    window.addEventListener('resize', function () {
        checkScrollButtons();
    });

    window.addEventListener('load', function () {
        checkScrollButtons();
    });
</script>
